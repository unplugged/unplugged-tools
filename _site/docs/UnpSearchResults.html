<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>UnpSearchResults</title>
    <meta name="charset" content="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/glyphicons.css">
  </head>
  <body class="homepage">
    <div class="row header">
      <div class="text-right text-muted"><strong>V3.0 - 1st December 2013 07:42</strong></div>
      <div class="container">
        <h1><a id="view:_id2:homelink" href="index.html" title="Unplugged Controls">Unplugged Controls</a></h1>
        <ul class="buttons">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/documentation.html">Documentation</a></li>

        </ul>
      </div>
    </div>
    <div class="row">
      <div class="container col-md-10">
        <ol class="breadcrumb">
  <li><a href="/documentation.html">Documentation</a></li>
  <li class="active">UnpSearchResults</li>
</ol>
<div class="post">
	<h1>Function</h1>

<p>This control displays search results by looking up key values from a view. The results are displayed in a similar way to the [[unpFlatView]] control. The XPage UnpFlatViewList.xsp must be copied from the Controls pack into your application (no editing of this XPage is required)</p>

<p><img src="http://teamstudio.s3.amazonaws.com/Searchresults.png" alt="Search results" /></p>

<p>The control will work when integrated with [[unpScrollableArea]]</p>

<h1>Usage</h1>

<p>The view which is being searched should have it's first column sorted, lowercase-d and the contents exploded to include as many words as you want to search on. The search facility is not full text but rather it is similar to the "Find" facility in a Notes view.</p>

<p>If the control is used with the [[unpHeader]] control, the control assumes that it is called with a URL Paramter of "query" which is the search term being used. The UnpHeader control must also have the search property set to 'database' and the serachPage property set to the xpage this control is used in</p>

<p>Drag the control onto your XPage and complete the following Custom Properties:</p>

<ul>
<li>detailColumn: the secondary column of data to display (this is the column title)</li>
<li>insetData: whether the view should be indented with rounded corners or flush to the "edge" of it's container</li>
<li>summaryColumn: the main column of data to display (this is the column title)</li>
<li>title: the title to display above the view data</li>
<li>viewName: the name of the view to search</li>
<li>viewsearch: the query which will be passed to the view to search with</li>
<li>xpageDoc: the name of the XPage to open documents in the view with</li>
</ul>


<pre class="CICodeFormatter" ><code class="CICodeFormatter"> &lt;xc:unpSearchResults insetData="true"  
      detailColumn="DOB" summaryColumn="Name" viewName="Search" xpageDoc="Employee.xsp"&gt;  
      &lt;xc:this.viewsearch&gt;&lt;![CDATA[#{javascript:param.get("query")}]]&gt;&lt;/xc:this.viewsearch&gt;  
      &lt;xc:this.title&gt;&lt;![CDATA[#{javascript:"Search results for \"" + param.get("query") + "\""}]]&gt;&lt;/xc:this.title&gt;  
 &lt;/xc:unpSearchResults&gt;  
</code></pre>


<h1>Troubleshooting</h1>

<p>If you use this control and enter text into the search input field and either; the screen flashes and all data is returned, or; the results page contains no entries when it should check the following:
1. That the view used has the first column sorted and is not categorized
2. That the 'show multiple values as separate entries' box is checked
3. That the contents of the first column are contained in a @LowerCase( ... ) function
4. There are no hidden columns in the view
5. Ensure UnpFlatView.xsp is copied from the Controls pack into your application</p>

<p>The recommended view structure to create a new view with 3 columns; first being the key to search on, second being the data for the 'summaryColumn' property and the third (if necessary) being the data for the property 'detailsColumn'</p>

<h1>Required Resources</h1>

<p>When you use the custom control make sure that you have the following resources in your application:
* unp/jquery-1.7.2.min.js
* unp/jquery.blockUI.min.js
* unp/iScroll.min.js
* unplugged.js
* unpCommon.jss
* unplugged.css
* unp/right-arrow-circle.png
* UnpFlatViewControl.xsp</p>

</div>

      </div>
      <div class="navigator col-md-2">
        <ul class="nav nav-pills nav-stacked">
          <li>
              <a href="/docs/UnpAccordion.html">Accordion</a>
          </li>
          <li>
              <a href="/docs/UnpAZPicker.html">A to Z Picker</a>
          </li>
          <li>
              <a href="/docs/UnpDebugToolbar.html">Debug Toolbar</a>
          </li>
          <li>
              <a href="/docs/UnpDialog.html">Dialog</a>
          </li>
          <li>
              <a href="/docs/UnpFlatView.html">Flat View</a>
          </li>
          <li>
              <a href="/docs/UnpFooter.html">Footer</a>
          </li>
          <li>
              <a href="/docs/UnpFormEditor.html">Form Editor</a>
          </li>
          <li>
              <a href="/docs/UnpFormViewer.html">Form Viewer</a>
          </li>
          <li>
              <a href="/docs/UnpHeader.html">Header</a>
          </li>
          <li>
              <a href="/docs/UnpHorizontalView.html">Horizontal View</a>
          </li>
          <li>
              <a href="/docs/UnpNavigator.html">Navigator</a>
          </li>
          <li>
              <a href="/docs/UnpComputedNavigator.html">Computed Navigator</a>
          </li>
          <li>
              <a href="/docs/UnpRichTextEditor.html">Rich Text Editor</a>
          </li>
          <li>
              <a href="/docs/UnpScrollableArea.html">Scrollable Area</a>
          </li>
          <li>
              <a href="/docs/UnpSearchResults.html">Search Results</a>
          </li>
          <li>
              <a href="/docs/UnpSwipeView.html">Swipe View</a>
          </li>
          <li>
              <a href="/docs/UnpTabbedFooter.html">Tabbed Footer</a>
          </li>
          <li>
              <a href="/docs/UnpTypographyRead.html">Typography Read</a>
          </li>
          <li>
              <a href="/docs/UnpWorkspace.html">Workspace</a>
          </li>
      </ul>
      </div>
    </div>
  </body>
</html>